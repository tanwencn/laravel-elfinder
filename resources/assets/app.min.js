var Finder=function(n){var i;this.key=Math.floor(899999*Math.random())+1e5,Finder.instances[this.key]=this;var t=null,e={title:"",url:"",query:{j_instance_key:this.key,disks:["default"],multiple:!1}};$.extend(e,Finder.default),this.config=function(n){return $.each(n,function(n,i){$.inArray(n,["title","url"])>=0?e[n]=i:e.query[n]=i}),this},null!=n&&this.config(n);var r=null;this.click=function(n,i){r=$(n);var t=this;if("function"!=typeof i){var e=i;i=function(n){$(e).val(n.url)}}r.on("click",function(){t.success(i).open()})},this.success=function(n){return t=n,this},this.getUrl=function(){return-1!=e.url.indexOf("?")?e.url+"&"+Admin.query(e.query):e.url+"?"+Admin.query(e.query)},this.open=function(){return i=$.dialog({title:e.title,content:"URL:"+this.getUrl(),animation:"scale",closeAnimation:"scale",backgroundDismiss:!0,columnClass:"xlarge"}),this},this.close=function(n){t(n,r),i.close()}};Finder.instances={},Finder.default={},Finder.instance=function(n){return Finder.instances[n]},Finder.disk=function(n,i){return"object"!=typeof i&&(i={}),null!=n&&null!=n&&(n instanceof Array||Object,i.disk=[n]),new Finder(i)};